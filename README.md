# ST Manager

SillyTavern èµ„æºç®¡ç†ä¸è‡ªåŠ¨åŒ–å·¥å…· - å®Œæ•´é›†æˆæ’ä»¶

## âœ¨ åŠŸèƒ½

### ğŸ“Š èµ„æºç®¡ç†
- **è§’è‰²å¡ç®¡ç†** - æµè§ˆã€æœç´¢ã€ç¼–è¾‘è§’è‰²å¡
- **ä¸–ç•Œä¹¦ç®¡ç†** - æŸ¥çœ‹å’Œç®¡ç†ä¸–ç•Œä¹¦æ¡ç›®
- **é¢„è®¾ç®¡ç†** - ç®¡ç† OpenAI é¢„è®¾
- **æ­£åˆ™è„šæœ¬** - ç®¡ç†æ­£åˆ™æ›¿æ¢è„šæœ¬

### ğŸ’¾ å¤‡ä»½ä¸æ¢å¤
- **ä¸€é”®å¤‡ä»½** - æ”¯æŒå…¨é‡å’Œå¢é‡å¤‡ä»½
- **å®šæ—¶å¤‡ä»½** - æ¯æ—¥/æ¯å‘¨è‡ªåŠ¨å¤‡ä»½
- **å¤‡ä»½æ¢å¤** - ä»å†å²å¤‡ä»½æ¢å¤æ•°æ®
- **è¿‡æœŸæ¸…ç†** - è‡ªåŠ¨æ¸…ç†è¿‡æœŸå¤‡ä»½

### âš™ï¸ è‡ªåŠ¨åŒ–è§„åˆ™
- **æ¡ä»¶åŒ¹é…** - å¤šæ¡ä»¶ç»„åˆåŒ¹é…è§’è‰²å¡
- **æ‰¹é‡æ“ä½œ** - æ‰¹é‡æ·»åŠ æ ‡ç­¾ã€ç§»åŠ¨æ–‡ä»¶å¤¹
- **è§„åˆ™é¢„è§ˆ** - æ‰§è¡Œå‰é¢„è§ˆåŒ¹é…ç»“æœ
- **è§„åˆ™é›†ç®¡ç†** - ä¿å­˜å’Œå¤ç”¨è§„åˆ™é›†

## ğŸ“¦ å®‰è£…

### 1. å¯ç”¨æœåŠ¡ç«¯æ’ä»¶

ç¼–è¾‘ SillyTavern çš„ `config.yaml`ï¼š

```yaml
enableServerPlugins: true
```

### 2. å®‰è£…æ’ä»¶

```bash
cd SillyTavern/plugins
git clone https://github.com/Youzini-afk/st-manager.git
```

### 3. é‡å¯ SillyTavern

é‡å¯åï¼Œæ’ä»¶ä¼šè‡ªåŠ¨åŠ è½½ã€‚

### 4. å®‰è£…å‰ç«¯æ‰©å±•

å°† `client/dist` ç›®å½•ä½œä¸º SillyTavern æ‰©å±•å®‰è£…ï¼Œæˆ–è€…æ‰‹åŠ¨åŠ è½½è„šæœ¬ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
st-manager/
â”œâ”€â”€ package.json           # æ’ä»¶å…ƒä¿¡æ¯
â”œâ”€â”€ server/                # æœåŠ¡ç«¯æ’ä»¶
â”‚   â”œâ”€â”€ index.js           # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ modules/           # åŠŸèƒ½æ¨¡å—
â”‚       â”œâ”€â”€ backup.js      # å¤‡ä»½æ¨¡å—
â”‚       â”œâ”€â”€ resources.js   # èµ„æºç®¡ç†
â”‚       â”œâ”€â”€ automation.js  # è‡ªåŠ¨åŒ–è§„åˆ™
â”‚       â””â”€â”€ config.js      # é…ç½®ç®¡ç†
â””â”€â”€ client/                # å‰ç«¯æ‰©å±•
    â”œâ”€â”€ src/               # æºç 
    â”œâ”€â”€ dist/              # æ„å»ºäº§ç‰©
    â””â”€â”€ package.json       # å‰ç«¯ä¾èµ–
```

## ğŸ”Œ API ç«¯ç‚¹

æ‰€æœ‰ç«¯ç‚¹å‰ç¼€ï¼š`/api/plugins/st-manager`

### åŸºç¡€

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/health` | GET | å¥åº·æ£€æŸ¥ |
| `/stats` | GET | èµ„æºç»Ÿè®¡ |
| `/config` | GET/POST | è·å–/æ›´æ–°é…ç½® |

### èµ„æº

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/cards/list` | GET | è§’è‰²å¡åˆ—è¡¨ |
| `/worldbooks/list` | GET | ä¸–ç•Œä¹¦åˆ—è¡¨ |
| `/presets/list` | GET | é¢„è®¾åˆ—è¡¨ |
| `/regex/list` | GET | æ­£åˆ™è„šæœ¬åˆ—è¡¨ |

### å¤‡ä»½

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/backup/trigger` | POST | è§¦å‘å¤‡ä»½ |
| `/backup/list` | GET | å¤‡ä»½åˆ—è¡¨ |
| `/backup/restore` | POST | æ¢å¤å¤‡ä»½ |
| `/backup/delete` | DELETE | åˆ é™¤å¤‡ä»½ |
| `/backup/schedule` | GET/POST | å¤‡ä»½è®¡åˆ’ |

### è‡ªåŠ¨åŒ–

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/automation/rulesets` | GET | è§„åˆ™é›†åˆ—è¡¨ |
| `/automation/ruleset/:id` | GET | è·å–è§„åˆ™é›† |
| `/automation/ruleset` | POST | ä¿å­˜è§„åˆ™é›† |
| `/automation/ruleset/:id` | DELETE | åˆ é™¤è§„åˆ™é›† |
| `/automation/preview` | POST | é¢„è§ˆè§„åˆ™ |
| `/automation/execute` | POST | æ‰§è¡Œè§„åˆ™ |

## ğŸ› ï¸ å¼€å‘

### æ„å»ºå‰ç«¯

```bash
cd client
npm install
npm run build
```

### è°ƒè¯•

æœåŠ¡ç«¯æ—¥å¿—ä¼šè¾“å‡ºåˆ° SillyTavern æ§åˆ¶å°ï¼Œå‰ç¼€ä¸º `[ST Manager]`ã€‚

## ğŸ“„ License

MIT

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

- GitHub: https://github.com/Youzini-afk/st-manager
