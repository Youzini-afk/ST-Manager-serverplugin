<!-- 只读 Markdown 预览模态框 -->
<div x-show="showMarkdownModal" x-cloak class="modal-overlay z-modal-popover" @click="showMarkdownModal=false">
    <div class="modal-container"
        style="width: 1000px; height: 90vh; max-width: 95vw; background: var(--bg-panel); display: flex; flex-direction: column;"
        @click.stop>

        <!-- 头部 -->
        <div
            style="padding: 1rem; border-bottom: 1px solid var(--border-light); display: flex; justify-content: space-between; align-items: center; background: var(--bg-sub);">
            <h3 class="font-bold flex items-center gap-2">
                <span>📄</span> 本地备注预览
            </h3>
            <button @click="showMarkdownModal=false" style="color: var(--text-dim); cursor: pointer;">✕</button>
        </div>

        <!-- 内容 (Markdown 渲染区) - Shadow DOM 安全版 -->
        <div class="flex-1 overflow-hidden relative"
            x-effect="updateShadowContent($el, showMarkdownModal ? renderMarkdown(markdownModalContent) : null)">
        </div>

        <!-- 底部 -->
        <div
            style="padding: 0.75rem; border-top: 1px solid var(--border-light); text-align: right; background: var(--bg-sub); color: var(--text-dim); font-size: 0.75rem;">
            只读模式，如需编辑请进入详情页
        </div>
    </div>
</div>